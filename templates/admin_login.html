<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Admin Login</title>

  <!-- Typography -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@500&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

  <style>
    :root{
      /* Four-Nations / Vault vibe */
      --bg-deep:#121417; --bg-dark:#1d2024; --bg:#292e34; --border:#3e444c;
      --text:#c4c9d4; --text-bright:#fff; --muted:#9aa0a6;
      --primary:#c39a3f;        /* Harmony gold */
      --primary-hover:#af8b39;  /* button hover */
      --danger:#f04747;
      --ring:rgba(195,154,63,.28); /* gold focus ring */
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family:'Inter',system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
      background:
        radial-gradient(circle at 50% -20%, rgba(255,255,255,.05), transparent 55%),
        var(--bg-deep);
      color:var(--text);
      display:grid; place-items:center;
      padding:16px;
    }

    .login-box{
      width:100%; max-width:440px;
      background:var(--bg-dark);
      border:1px solid var(--border);
      border-radius:14px;
      padding:28px;
      box-shadow:0 12px 40px rgba(0,0,0,.45);
      text-align:center;
      opacity:0; transform:translateY(12px);
      animation:fadeIn .45s ease-out .1s forwards;
    }
    @keyframes fadeIn{ to{ opacity:1; transform:translateY(0);} }

    /* Vault seal icon (gold) */
    .vault-seal{
      width:70px; height:70px; margin:0 auto 18px; display:block;
      fill:currentColor; color:var(--primary);
      transition:filter .25s ease, transform .25s ease;
    }
    .login-box:has(input:focus) .vault-seal{
      filter:drop-shadow(0 0 12px var(--primary));
      transform:scale(1.08);
    }

    h1{
      margin:0 0 18px; color:var(--text-bright);
      font-family:'Cinzel',serif; font-size:26px; letter-spacing:.6px;
    }

    /* Flash message */
    .flash{
      margin:0 0 14px;
      background:var(--danger); color:#fff; border-radius:10px;
      padding:12px 14px; font-weight:600; font-size:14px;
    }

    form{ text-align:left; margin-top:4px; }
    .field{ display:grid; gap:8px; margin-bottom:16px; }

    label{ font-size:14px; color:var(--text); font-weight:600; }

    input[type="password"]{
      width:100%; padding:15px 14px; font-size:16px; color:var(--text-bright);
      background:#1a1c20; border:1px solid var(--border); border-radius:10px; outline:0;
      transition:border-color .15s ease, box-shadow .15s ease, background-color .15s ease;
    }
    input[type="password"]::placeholder{ color:var(--muted); }
    input[type="password"]:focus{
      border-color:var(--primary);
      box-shadow:0 0 0 4px var(--ring);
      background:#16181b;
    }

    button{
      width:100%; padding:14px; border:none; border-radius:10px;
      background:var(--primary); color:var(--bg-deep);
      font-weight:700; font-size:16px; cursor:pointer;
      transition:background-color .15s ease, transform .05s ease;
      font-family:'Cinzel',serif;
    }
    button:hover{ background:var(--primary-hover); }
    button:active{ transform:translateY(1px); }

    .footer{ margin-top:18px; font-size:14px; }
    .footer a{ color:var(--text); text-decoration:none; font-weight:500; }
    .footer a:hover{ text-decoration:underline; color:var(--primary); }

    /* Mobile polish */
    @media (max-width:480px){
      .login-box{ padding:22px; border-radius:12px; }
      h1{ font-size:22px; }
      input[type="password"], button{ font-size:16px; padding:15px; }
    }
  </style>
</head>
<body>
  <div class="login-box">
    <!-- Gold vault seal -->
    <svg class="vault-seal" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
      <circle cx="50" cy="50" r="48" stroke="currentColor" stroke-width="3" fill="none"/>
      <path d="M50 2C30 2 12 18 12 50H50V2Z" fill="#d04033"/>
      <path d="M50 98C70 98 88 82 88 50H50V98Z" fill="#5d8e9c"/>
      <path d="M2 50C2 70 18 88 50 88V50H2Z" fill="#688a4c"/>
      <path d="M98 50C98 30 82 12 50 12V50H98Z" fill="#a0a09e"/>
      <circle cx="50" cy="50" r="22" fill="var(--bg-dark)"/>
      <path d="M50 35C45.582 35 42 38.582 42 43V57C42 61.418 45.582 65 50 65C54.418 65 58 61.418 58 57V43C58 38.582 54.418 35 50 35Z" fill="var(--primary)"/>
      <path transform="rotate(45, 50, 50)" d="M50 35C45.582 35 42 38.582 42 43V57C42 61.418 45.582 65 50 65C54.418 65 58 61.418 58 57V43C58 38.582 54.418 35 50 35Z" fill="var(--primary)"/>
      <path transform="rotate(90, 50, 50)" d="M50 35C45.582 35 42 38.582 42 43V57C42 61.418 45.582 65 50 65C54.418 65 58 61.418 58 57V43C58 38.582 54.418 35 50 35Z" fill="var(--primary)"/>
    </svg>

    <!-- Keep original copy -->
    <h1>Admin Login</h1>

    {# Flash support: works whether you used categories or not #}
    {% set msgs = get_flashed_messages(with_categories=True) %}
    {% if msgs and msgs|length > 0 %}
      <div class="flash" role="alert">
        {{ (msgs[0][1] if msgs[0]|length>1 else msgs[0]) }}
      </div>
    {% else %}
      {% with messages = get_flashed_messages() %}
        {% if messages %}
          <div class="flash" role="alert">{{ messages[0] }}</div>
        {% endif %}
      {% endwith %}
    {% endif %}

    <form action="{{ url_for('admin_login') }}" method="POST" novalidate>
      <div class="field">
        <label for="pin">Password</label>
        <!-- Keep name="pin" for backend compatibility -->
        <input
          id="pin"
          name="pin"
          type="password"
          placeholder="Enter Admin Password"
          autocomplete="current-password"
          required
        />
      </div>
      <button type="submit">Sign In</button>
    </form>

    <div class="footer">
      <a href="{{ url_for('dashboard') }}">‚Üê Back to Dashboard</a>
    </div>
  </div>
</body>
</html>